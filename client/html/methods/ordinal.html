<!--  
Includes the following systems: 
	borda, condorcet, IRV 
-->

<template name="IRV_blurb">
		<h3>Election Method: Instant Runoff Voting</h3>
		<p><em>Also known as IRV, RCV, or the Alternative Vote</em></p>
		<h4>Ballot</h4>
		<p><strong>
			The ballot will ask you to rank the candidates in order of preference</strong> – 
			1st, 2nd, 3rd and so on – in order to elect a single candidate. 
			Ranking a lesser candidates does not count against your first choice.
			All unranked candidates are treated as tied for last.</p>
		<h4>Counting</h4>
		<p>The name “instant runoff voting” derives from the fact that the tally simulates 
			a series of runoff elections in which the last-place finisher is eliminated after each round of counting. 
			Votes are initially tallied for each voter’s first choice. 
			If no candidate has more than half of those votes, then the candidate with the fewest votes is eliminated. 
			The voters who selected the defeated candidate as a first choice 
			will then have their votes added to the totals of their next ranked choice, if any. 
			This process continues until 
			<strong>a candidate wins by having more than half of the votes in that round of counting.</strong> </p>
			
			
		<h4>Extra notes</h4>
    <div class="panel-group" id="accordion1{{extraForId}}">
    	
    	<div class="panel panel-default">
	      <div class="panel-heading">
	        <h4 class="panel-title">
	        	<a onclick="STEP_RECORD.data['note0'] = true;return true;" data-toggle="collapse" data-parent="#accordion1{{extraForId}}" href="#collapse0{{extraForId}}">
	            Majorities<i class="indicator glyphicon glyphicon-chevron-down  pull-right"></i>
						</a>
					</h4>
				</div>
				
	      <div id="collapse0{{extraForId}}" class="panel-collapse collapse">
	        <div class="panel-body">
						Since IRV eliminations continue until one candidate gets more than half of the ballots,
							<strong>the winner is guaranteed to have a majority of the votes in the final round.</strong>
						However, if voters for an eliminated candidate didn't bother to mark their next choice,
							their ballot can no longer counted in the following round,
							so in that case the winner might not have a majority of all votes.
			</div></div></div>
				
				
    	<div class="panel panel-default">
	      <div class="panel-heading">
	        <h4 class="panel-title">
	        	<a onclick="STEP_RECORD.data['note1'] = true;return true;" data-toggle="collapse" data-parent="#accordion1{{extraForId}}" href="#collapseOne{{extraForId}}">
	            Ties<i class="indicator glyphicon glyphicon-chevron-down  pull-right"></i>
						</a>
					</h4>
				</div>
				
	      <div id="collapseOne{{extraForId}}" class="panel-collapse collapse">
	        <div class="panel-body">
						If at some point there is a tie for last place, 
							the candidate to be eliminated is picked at <strong>random.</strong>
			</div></div></div>
		</div>
			
</template>


<template name="IRV_stratBlurb">
	<ul>
		<li>
			Voters can rank as many or as few candidates as they wish without concern that ranking a lesser choice 
			will hurt the chances of their 1st choice. 
			If you do not know how others will vote and there is no limitation on rankings, 
			you should rank your favorite candidate at the top and rank candidates in order of sincere preference 
			until you are indifferent to the remaining choices. 
		</li>
		<li>
			If you know how others will vote, you may want to elevate a lesser ranked candidate 
			who you think has a better chance of winning than your favorite. 
			If there is a limit on rankings, you should try to determine who are the two strongest candidates 
			and be sure to include one of them among your ranked candidates. 
		</li>
	</ul>
</template>

<template name="borda_blurb">
		<h3>Election Method: Borda Voting</h3>
		<p><em>Also known as the Borda count</em></p>
		<h4>Ballot</h4>
		<p><strong>The ballot will ask you to rank the candidates in order of preference.</strong> 
		So you would rank the candidate you wish to help the most as 1, the next as 2, and so on.
		Any candidate(s) whom you do not explicitly rank will be ranked last.</p>
		<h4>Counting</h4>
		<p>The candidate you rank first will get 3 points from you; the one you rank second will get 2 points; and third place
			gets 1 point.</p>
			<p><strong>The candidate with the most points wins.</strong></p>
				
		<h4>Extra notes</h4>
    <div class="panel-group" id="accordion{{extraForId}}">
    	
    	<div class="panel panel-default">
	      <div class="panel-heading">
	        <h4 class="panel-title">
	        	<a onclick="STEP_RECORD.data['note0'] = true;return true;" data-toggle="collapse" data-parent="#accordion{{extraForId}}" href="#collapse0{{extraForId}}">
	            If there were more candidates<i class="indicator glyphicon glyphicon-chevron-down  pull-right"></i>
						</a>
					</h4>
				</div>
				
	      <div id="collapse0{{extraForId}}" class="panel-collapse collapse">
	        <div class="panel-body">
	        	In Borda voting <strong>each rank is always worth 1 more point than the one below</strong>, so if there were 10 candidates,
				first place would be worth 10 points.
			</div></div></div>
				
				
    	<div class="panel panel-default">
	      <div class="panel-heading">
	        <h4 class="panel-title">
	        	<a onclick="STEP_RECORD.data['note1'] = true;return true;" data-toggle="collapse" data-parent="#accordion{{extraForId}}" href="#collapseOne{{extraForId}}">
	            Ties<i class="indicator glyphicon glyphicon-chevron-down  pull-right"></i>
						</a>
					</h4>
				</div>
				
	      <div id="collapseOne{{extraForId}}" class="panel-collapse collapse">
	        <div class="panel-body">
						If two candidates end up with the same number of points, 
							the winner is picked at <strong>random</strong> from those two.
			</div></div></div>
		</div>
</template>

<template name="borda_stratBlurb">
	<ul>
		<li>
			In Borda Voting (this voting system), it is strategic to focus on the two candidates you think have the best
			chance of winning.
		</li>
		<li>
			Of those two, you should vote the one you prefer as high as possible, and the other one as low as possible.
		</li>
	</ul>
</template>


<template name="condorcet_blurb">
		<h3>Election Method: Condorcet Voting</h3>
		<p><em>(Minimax Condorcet)</em></p>
		<h4>Ballot</h4>
		<p><strong>The ballot will ask you to rank the candidates in order of preference.</strong> 
		So you would rank the candidate you wish to help the most as 1, the next as 2, and so on.
		Any candidate(s) whom you do not explicitly rank will be ranked last.</p>
		<h4>Counting</h4>
		<p>Each candidate will be compared to each other candidate to see which is preferred by more voters.</p>
			<p><strong>If there is one candidate which wins against each of the others, that site wins.</strong> 
				Otherwise, the candidate which loses by the least will win.</p>
			<p>For instance, if you vote X:1, Y:2, Z:3, your vote will be tallied for X in the X vs Y race and the X vs Z race,
				 and for Y in the Y vs Z race.</p>
</template>

<template name="condorcet_stratBlurb">
	<ul>
		<li>
			In Condorcet voting, as long as there's one candidate which could beat all the others one-on-one, it's strategic
			to rank your favorite candidate at the top.
		</li>
		<li>
			Occasionally, there can be strategic benefit in rating your second choice at bottom. If this causes a cycle,
			where your favorite beats your least favorite, who beats your second choice, who beats your favorite,
			it is possible (though not certain) that your favorite candidate could come out as the winner. However, doing
			this also carries strategic risk; you could help your least-favorite site to win.
		</li>
	</ul>
</template>


<template name="IRV_ballotLine">
	{{#each candRanks}}
	<input type="radio"   name="cand{{../num}}" id="cand{{../num}}rank{{rank}}" name="rank{{rank}}" onclick="exclusiveVoteFor({{../num}},{{rank}},true);"><label for="cand{{../num}}rank{{rank}}" style="width:20px;display:inline;">{{ord}}&nbsp;</label>
	{{/each}}
</template>


<template name="borda_ballotLine">
	{{> IRV_ballotLine}}
</template>
<template name="condorcet_ballotLine">
	{{> IRV_ballotLine}}
</template>

<template name="IRV_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="IRV_resultHeadInner">
	Outcome
</template>

<template name="borda_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="borda_resultHeadInner">
	Score
</template>

<template name="condorcet_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="condorcet_resultHeadInner">
	Result
</template>

<template name="IRV_hypothetical">
	<small>(Hypothetical)</small><br/>
</template>

<template name="IRV_result">
	{{#if count.length}}
		{{count.length}} votes (in final count)
	{{else}}{{#if count}}
		Eliminated in round {{count}}
	{{else}}
		0
	{{/if}}{{/if}}
</template>

<template name="borda_result">
	{{count}}
</template>
<template name="condorcet_result">
	{{count}}
</template>

