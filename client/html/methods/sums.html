<!--  
Includes the following systems: 
	approval, score, plurality, SODA 
-->

<template name="approval_blurb">
		<h3>Election Method: Approval Voting</h3>
		<p><em>Also known as yes/no voting.</em></p>
		<h4>Ballot</h4>
		<p><strong>The ballot will ask you to approve or disapprove of each
		candidate.</strong> You may approve of any number of candidates. If you approve of all candidates or
		no candidates, your ballot will not affect the election. If you do not click either option, that
		counts as disapproval.</p>
		<h4>Counting</h4>
		<p><strong>The candidate with the most approvals wins.</strong></p>
</template>

<template name="approval_stratBlurb">
	<ul>
		<li>
			In Approval Voting (this voting method), it is always strategic to approve your favorite candidate and disapprove your
			least favorite.
		</li>
		<li>
			As for your second choice, you should approve it if you hope that your most-favorite option might beat it,
			but disapprove it if you fear that your least-favorite option may win.
		</li>
	</ul>
</template>


<template name="plurality_blurb">
		<h3>Election Method: Plurality Voting</h3>
		<p><em>Also known as First Past the Post.</em></p>
		<h4>Ballot</h4>
		<p><strong>You may vote for exactly one candidate.</strong> </p>
		<h4>Counting</h4>
			<p><strong>The candidate with the most votes wins.</strong></p>
</template>


<template name="plurality_stratBlurb">
	<ul>
		<li>
			In Plurality Voting (this voting system), it is strategic to focus on the two candidates you think have the best
			chance of winning.
		</li>
		<li>
			Of those two, you should vote for the one you prefer.
		</li>
	</ul>
</template>

<template name="score_blurb">
		<h3>Election Method: Score Voting</h3>
		<p><em>Also known as Range Voting.</em></p>
		<h4>Ballot</h4>
		<p><strong>You may give each candidate a score from 0 (worst) to 10 (best).</strong> 
			You may give two candidates the same rating if you wish. 
			Leaving a candidate blank is equivalent to scoring them 0.</p>
		<h4>Counting</h4>
			<p><strong>The candidate with the highest total score wins.</strong></p>
</template>

<template name="score_stratBlurb">
	<ul>
		<li>
			In Score Voting (this voting method), it is always strategic to give your favorite candidate the highest score (10) and your
			least favorite the lowest (0).
		</li>
		<li>
			As for your second choice, you should grade it relatively low (0-3) if you hope that your most-favorite option might beat it,
			but relatively high (7-10) if you fear that your least-favorite option may win.
		</li>
	</ul>
</template>

<template name="SODAx_blurb">
		<h3>Election Method: SODA Voting</h3>
		<p><em>SODA stands for Simple Optionally-Delegated Approval.</em></p>
		<h4>Ballot</h4>
		<p><strong>The ballot will ask you to delegate to one candidate, or approve of several candidates.</strong> 
		You may approve of any number of candidates. If you approve of all candidates or
		no candidates, your ballot will not affect the election.</p>
		
		<p><strong>If you check exactly one candidate, you are delegating your vote
			to that candidate.</strong> In that case, your candidate may add
		additional approvals to your ballot if, after the ballots are counted, it is clear that they cannot win. 
		This means that your delegated vote will not be wasted, even if you vote for an unpopular candidate.
		If you check more than one option, your vote will not be delegated.</p>
		
		<h4>Counting</h4>
			<p>All approvals are tallied for each candidate site. Separately, each candidate's delegated ballots 
				(those which approve only it) are counted.
				Then, each site, in order from most approvals to least, may, if it chooses, add its delegated
				ballot count to the
				next closest site's approval tally (as if those ballots had also approved the nearby site). 
				This will happen automatically, and the candidates are programmed
				to behave rationally, so they will only assign votes to another candidate if they cannot win themselves. 
				When this is finished, <strong>the candidate with the highest 
					final approval tally wins.</strong></p>
					
				<p>This process typically ensures that everyone who agrees with their candidate's preferences and 
					delegates their vote, has their ballot counted in favor of exactly one of the two frontrunners
					(the top two vote-getters in the final count). Thus, if all voters check one candidate each, a runoff
					election between the final frontrunners would be redundant.</p>
</template>

<template name="SODA_blurb">
		<h3>Election Method: SODA Voting</h3>
		<p><em>SODA stands for Simple Optionally-Delegated Approval.</em></p>
		<h4>Ballot</h4>
		<p>The ballot has a checkbox for each candidate, plus a separate checkbox labeled "Do Not Delegate". 
			You can use your ballot to either approve of some number of candidates, 
			   or delegate one of the candidates to allocate your approvals for you.</p>
			
		<p><strong>
		  If you just check one candidate's box, you are delegating your vote to them.</strong> 
			In that case, they will get one point from you, 
			  and they may also decide whether allocate an additional point to the "backup choice" shown next to the their name. 
			  They will only allocate this additional point if it is clear that they themselves cannot win.</p>
		
		<p><strong>
			If you check more than one candidate, your ballot will be counted as one point each for the candidates you check. </strong>
			Checking all candidates or no candidates means your ballot won't affect who wins.</p>
			
		<p>If you want to vote for one candidate, but do not want to delegate, check "Do Not Delegate". 
		Then your vote will only give one point to the candidate you checked.  
		"Do Not Delegate" does not matter unless you've checked exactly one candidate.</p>
	
		
		<h4>Counting</h4>
			<p>As the name implies, SODA is based on approval voting: 
				each voter can vote for any number of candidates; 
				each ballot can give at most one point to any given candidate; 
				and <strong>the winner is the candidate with the highest total,</strong> 
				including both direct and candidate-allocated votes. 
				To find the totals, after the raw ballots are tallied, 
					each candidate (in order from most approvals to least), gets one chance to allocate their delegated votes 
					by adding their delegated vote tally onto the approval tally of their backup choice.</p>
				
		<h4>Why it works like this</h4>
				<p><strong>Delegation:</strong> 
					You always want to give a point to your favorite candidate, and never to your least favorite. 
					For your second preference, however, it depends. 
					On the one hand, you want to give them a point if it's needed to help them beat the least favorite; 
					   on the other hand, you don't want to if they might beat your favorite. 
					Delegating lets your favorite candidate make this choice for you, after the ballots are counted. 
					By that time, the choice is simple; 
					  they need only allocate a point to the "backup choice" if it's clear they themselves can't win.</p>
				
				<p><strong>Approval:</strong> 
					In this system, a single ballot often ends up giving points to more than one candidate.
					However, a ballot can never give more than one point to a candidate.
					In this way, 
					   each voter is actually more likely to get an equal voice in deciding which of the two frontrunners wins.
					Unlike plurality voting (the more customary system, in which each voter can support only one candidate),
					   votes in approval-based systems like SODA 
					   are not likely to be "wasted" on a third candidate who had no real chance of winning.
					In fact, if all voters delegate their votes, SODA guarantees that no ballots will be "wasted" in that sense.
					</p>
				
				<p><strong>Stronger candidates allocate first:</strong> 
					Since all candidates eventually get a chance to decide how to allocate their delegated votes, 
					  the order in which they do so usually does not matter. 
					One important exception is a situation where two allied candidates have to cooperate to beat a third. 
					In such circumstances, the stronger of the two allies should go first, so that they will win. 
				  Then, by the time the weaker ally decides, 
				     the only	reasonable option left is to cooperate by allocating votes to the stronger.</p>
				
				<p>This experimental scenario is actually simpler than a real-world election in a couple of ways. 
					<strong>"Do not delegate":</strong> 
					In the "voter/candidate map" used here, all voters agree with their favorite candidate's "backup choice". 
					In a real-world election, 
					   disagreeing with that choice could be one good reason to choose the "Do Not Delegate" option. 
					<strong>Backup choices:</strong>
					Since there are only three candidates, each candidate here has only one "backup choice". 
					If there were more candidates,
					  each would have a list of predeclared "backups", 
					  and could choose to allocate points to one or more from the top of their list.</p>
				
</template>

<template name="xSODA_stratBlurb">
	<ul>
		<li>
			In SODA Voting (this voting system), it is usually strategic to delegate your vote (by checking only your favorite).
			For example, if you expect all other voters to delegate their votes, then
			it is always strategic for you to delegate too. In this case, the SODA result will be the same as if there had been a
			two-way vote between the two strongest candidates.
		</li>
		<li>
			If you believe that others will not delegate, delegating is often still best for you. However, there are cases
			where not delegating (by checking both your favorite and "Do Not Delegate") is strategic.
		</li>
	</ul>
</template>

<template name="SODA_stratBlurb">
	<ul>
		<li>
			In SODA Voting (this voting system), it is usually strategic to delegate your vote (by checking only your favorite),
			especially if you expect all other voters to also delegate.
		</li>
		<li>
			In certain specific circumstances, it may be strategic for you not to delegate, depending on exactly which other
			voters do so. For instance, if you think the voters in both your faction and enemy factions 
			(those who like your favorite candidate the least)
			will not delegate, but voters in allied factions (those who like your favorite candidate second)
			will delegate, then it is strategic for you to vote undelegated by checking both your favorite and "Do Not Delegate".
		</li>
	</ul>
</template>

<template name="approval_ballotLine">
	<input type="radio" name="{{name}}" value="approve" onclick="voteFor({{num}},1);">Approve<br>
	<input type="radio" name="{{name}}" value="disapprove" onclick="voteFor({{num}},0);">Disapprove<br>
</template>


<template name="plurality_ballotLine">
	<input type="radio" id="cand{{num}}rank1" name="vote" onclick="pluralityVoteFor({{num}});">
</template>


<template name="score_ballotLine">
	{{#each legalScores}}
		<input type="radio" name="{{../name}}" value="4" onclick="voteFor({{../num}},{{this}});">{{this}}
	{{/each}}
</template>

<template name="SODA_ballotLine">
	<input type="checkbox" name="{{name}}" value="approve"onclick="checkboxVoteFor({{num}},this.checked);">{{#if checkText}}{{checkText}}{{else}}{{#if checkText}}{{checkText}}{{else}}{{SODAvote num}}{{/if}}{{/if}}
</template>

<template name="SODA_delegate"><b>Delegate</b>/Approve</template>
<template name="SODA_approve">Delegate/<b>Approve</b></template>
<template name="SODA_neither">Delegate/Approve</template>

<template name="approval_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="approval_resultHeadInner">
	Totals
</template>
<template name="approval_result">
	{{count}}
</template>


<template name="plurality_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="plurality_resultHeadInner">
	Totals
</template>
<template name="plurality_result">
	{{count}}
</template>

<template name="score_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}</td>
</template>
<template name="score_resultHeadInner">
	Total scores
</template>
<template name="score_result">
	{{count}}
</template>

<template name="SODA_resultHead">
	<td>{{meth_subtemplate "resultHeadInner"}}<br/>(direct + allocated)</td>
</template>
<template name="SODA_resultHeadInner">
	Final scores
</template>
<template name="SODA_result">
	{{count}}
</template>